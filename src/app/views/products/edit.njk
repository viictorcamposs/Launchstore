{% extends 'layout.njk' %}

{% block head %}
    <link rel="stylesheet" href="/styles/products/create.css">
    <link rel="stylesheet" href="/styles/products/edit.css">
{% endblock %}

{% block content %}
    <section class="container form">
        <form action="/products?_method=PUT" method="post" enctype="multipart/form-data">
            <div class="header">
                <h3>Editar Produto {{ productId }}</h3>
            </div>
            <div class="fields">
                {% include 'products/fields.njk' %}
                <input type="hidden" name="id" value="{{ product.id }}">
            </div>
            <button type="submit" class="button edit">Atualizar</button>
        </form>

        <form action="/products?_method=DELETE" id="form-delete" method="post">
            <input type="hidden" name="id" value="{{ product.id }}">
            <button type="submit" class="button delete">Deletar</button>
        </form>
    </section>

    <script>
        const formDelete = document.querySelector ('#form-delete')
        formDelete.addEventListener ('submit', ( event ) => {
            const confirmation = confirm('Desejar Deletar?')
            if ( !confirmation ) event.preventDefault()
        })
    </script>
{% endblock %}